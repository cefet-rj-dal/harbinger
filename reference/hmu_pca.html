<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Multivariate anomaly detector using PCA — hmu_pca • harbinger</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Multivariate anomaly detector using PCA — hmu_pca"><meta name="description" content="Multivariate anomaly detector using PCA doi:10.1016/0098-3004(93)90090-R"><meta property="og:description" content="Multivariate anomaly detector using PCA doi:10.1016/0098-3004(93)90090-R"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">harbinger</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.707</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cefet-rj-dal/harbinger/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Multivariate anomaly detector using PCA</h1>
      <small class="dont-index">Source: <a href="https://github.com/cefet-rj-dal/harbinger/blob/master/R/hmu_pca.R" class="external-link"><code>R/hmu_pca.R</code></a></small>
      <div class="d-none name"><code>hmu_pca.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Multivariate anomaly detector using PCA <a href="doi:10.1016/0098-3004(93)90090-R">doi:10.1016/0098-3004(93)90090-R</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hmu_pca</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>hmu_pca</code> object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cefet-rj-dal/daltoolbox" class="external-link">daltoolbox</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#loading the example database</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">examples_harbinger</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Using the time series 9</span></span></span>
<span class="r-in"><span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">examples_harbinger</span><span class="op">$</span><span class="va">multidimensional</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        serie           x event</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -0.6264538  0.40940184 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.8356286  1.58658843 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1.5952808 -0.33090780 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  0.3295078 -2.28523554 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 -0.8204684  2.49766159 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  0.5757814 -0.01339952 FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># establishing hmu_pca method</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">hmu_pca</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fitting the model using the two columns of the dataset</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/daltoolbox/man/fit.html" class="external-link">fit</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">dataset</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># making detections</span></span></span>
<span class="r-in"><span><span class="va">detection</span> <span class="op">&lt;-</span> <span class="fu"><a href="detect.html">detect</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">dataset</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># filtering detected events</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">detection</span><span class="op">[</span><span class="op">(</span><span class="va">detection</span><span class="op">$</span><span class="va">event</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     idx event    type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   17  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   25  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   32  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53   53  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70   70  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77   77  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80   80  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83   83  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94   94  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 101  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 120 120  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 122 122  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 126 126  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 134 134  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 142 142  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 153 153  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156 156  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 171 171  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 181 181  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 190 190  TRUE anomaly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 200 200  TRUE anomaly</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># evaluating the detections</span></span></span>
<span class="r-in"><span><span class="va">evaluation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/daltoolbox/man/evaluate.html" class="external-link">evaluate</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">detection</span><span class="op">$</span><span class="va">event</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">event</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">evaluation</span><span class="op">$</span><span class="va">confMatrix</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           event      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> detection TRUE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRUE      0     24   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE     1     175  </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eduardo Ogasawara, Antonio Castro, Antonio Mello, Ellen Paixão, Fernando Fraga, Heraldo Borges, Janio Lima, Jessica Souza, Lais Baroni, Lucas Tavares, Rebecca Salles, Diego Carvalho, Eduardo Bezerra, Rafaelli Coutinho, Esther Pacitti, Fabio Porto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

